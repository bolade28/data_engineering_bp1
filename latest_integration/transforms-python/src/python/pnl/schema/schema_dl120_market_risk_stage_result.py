from pyspark.sql.types import StructField, StructType, StringType, DoubleType, IntegerType, DateType, TimestampType

typed_output_schema = StructType([
    StructField('Run_Datetime', TimestampType(), True),
    StructField('Request_ID', IntegerType(), True),
    StructField('Analysis_Date', DateType(), True),
    StructField('Request_Type', StringType(), True),
    StructField('Deal_Tracking_Num', IntegerType(), True),
    StructField('Business_Unit', StringType(), True),
    StructField('Trader', StringType(), True),
    StructField('Portfolio', StringType(), True),
    StructField('External_BU', StringType(), True),
    StructField('Internal_BU', StringType(), True),
    StructField('Currency_ID', StringType(), True),
    StructField('Instrument_Type', StringType(), True),
    StructField('Trade_Date', DateType(), True),
    StructField('Trade_Time', TimestampType(), True),
    StructField('Toolset', StringType(), True),
    StructField('External_Portfolio', StringType(), True),
    StructField('Broker', StringType(), True),
    StructField('OTC_Clearing_Broker', StringType(), True),
    StructField('Offset_Transaction_Number', IntegerType(), True),
    StructField('Reference', StringType(), True),
    StructField('Projection_Index', StringType(), True),
    StructField('UOM', StringType(), True),
    StructField('Grid_Point_ID', IntegerType(), True),
    StructField('Grid_Point_Name', StringType(), True),
    StructField('Grid_Point_Start_Date', DateType(), True),
    StructField('Grid_Point_End_Date', DateType(), True),
    StructField('Grid_Point_Start_Date_Long', DateType(), True),
    StructField('Grid_Point_End_Date_Long', DateType(), True),
    StructField('Delta', DoubleType(), True),
    StructField('Gamma', DoubleType(), True),
    StructField('Vega', DoubleType(), True),
    StructField('Theta', DoubleType(), True),
    StructField('Risk_Factor_Name', StringType(), True),
    StructField('Delta_Shift', DoubleType(), True),
    StructField('Gamma_Factor', DoubleType(), True),
    StructField('Risk_Factor_CCY', StringType(), True),
    StructField('CCY_Conversion_Rate', DoubleType(), True),
    StructField('Risk_Factor_UOM', StringType(), True),
    StructField('UOM_Conversion_Rate', DoubleType(), True),
    StructField('MR_Delta', DoubleType(), True),
    StructField('MR_Gamma', DoubleType(), True),
    StructField('MR_Vega', DoubleType(), True),
    StructField('MR_Theta', DoubleType(), True),
    StructField('Market_Value', DoubleType(), True),
    StructField('Bucket_Name', StringType(), True),
    StructField('Bucket_Id', IntegerType(), True),
    StructField('Bucket_Order', IntegerType(), True),
    StructField('Bucket_Start_Date', DateType(), True),
    StructField('Bucket_End_Date', DateType(), True),
    StructField('Extract_Type', StringType(), True),
    StructField('Type', StringType(), True),
])

transformed_output_schema = StructType([
    StructField('Request_ID', IntegerType(), True),
    StructField('Valuation_Date', DateType(), True),
    StructField('Request_Type', StringType(), True),
    StructField('Deal_Tracking_Num', IntegerType(), True),
    StructField('Business_Unit', StringType(), True),
    StructField('Trader', StringType(), True),
    StructField('Portfolio', StringType(), True),
    StructField('External_BU', StringType(), True),
    StructField('Internal_BU', StringType(), True),
    StructField('Currency_ID', StringType(), True),
    StructField('Instrument_Type', StringType(), True),
    StructField('Trade_Date', DateType(), True),
    StructField('Trade_Time', TimestampType(), True),
    StructField('Toolset', StringType(), True),
    StructField('External_Portfolio', StringType(), True),
    StructField('Broker', StringType(), True),
    StructField('OTC_Clearing_Broker', StringType(), True),
    StructField('Offset_Transaction_Number', IntegerType(), True),
    StructField('Reference', StringType(), True),
    StructField('Projection_Index', StringType(), True),
    StructField('UOM', StringType(), True),
    StructField('Grid_Point_ID', IntegerType(), True),
    StructField('Grid_Point_Name', StringType(), True),
    StructField('Grid_Point_Start_Date', DateType(), True),
    StructField('Grid_Point_End_Date', DateType(), True),
    StructField('Grid_Point_Start_Date_Long', DateType(), True),
    StructField('Grid_Point_End_Date_Long', DateType(), True),
    StructField('Delta', DoubleType(), True),
    StructField('Gamma', DoubleType(), True),
    StructField('Vega', DoubleType(), True),
    StructField('Theta', DoubleType(), True),
    StructField('Risk_Factor_Name', StringType(), True),
    StructField('Delta_Shift', DoubleType(), True),
    StructField('Gamma_Factor', DoubleType(), True),
    StructField('Risk_Factor_CCY', StringType(), True),
    StructField('CCY_Conversion_Rate', DoubleType(), True),
    StructField('Risk_Factor_UOM', StringType(), True),
    StructField('UOM_Conversion_Rate', DoubleType(), True),
    StructField('MR_Delta', DoubleType(), True),
    StructField('MR_Gamma', DoubleType(), True),
    StructField('MR_Vega', DoubleType(), True),
    StructField('MR_Theta', DoubleType(), True),
    StructField('Market_Value', DoubleType(), True),
    StructField('Bucket_Name', StringType(), True),
    StructField('Bucket_Id', IntegerType(), True),
    StructField('Bucket_Order', IntegerType(), True),
    StructField('Bucket_Start_Date', DateType(), True),
    StructField('Bucket_End_Date', DateType(), True),
    StructField('Extract_Type', StringType(), True),
    StructField('Type', StringType(), True),
    StructField('Run_Datetime', TimestampType(), True),
    ])
